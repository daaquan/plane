# ==============================================
# Plane Production Environment
# ==============================================
# Copy this file to .env.production and fill in the values.
# Then symlink: ln -s .env.production .env
#
# Architecture:
#   Browser --> Cloudflare (SSL) --> tanuki (nginx) --> this server (containers)

# App Release Tag
APP_RELEASE=stable

# ==============================================
# DATABASE (external PostgreSQL)
# ==============================================
POSTGRES_USER=plane
POSTGRES_PASSWORD=<your-postgres-password>
POSTGRES_DB=plane

# ==============================================
# REDIS (external Redis)
# ==============================================
REDIS_HOST=<redis-host-ip>
REDIS_PORT=6379

# ==============================================
# RABBITMQ (external RabbitMQ)
# ==============================================
RABBITMQ_USER=plane
RABBITMQ_PASSWORD=<your-rabbitmq-password>
RABBITMQ_VHOST=plane

# ==============================================
# S3 STORAGE (RustFS / MinIO compatible)
# ==============================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=<your-access-key>
AWS_SECRET_ACCESS_KEY=<your-secret-key>
AWS_S3_BUCKET_NAME=plane

# ==============================================
# APPLICATION SECRETS
# ==============================================
# Django secret key (generate: python3 -c "import secrets; print(secrets.token_urlsafe(50))")
SECRET_KEY=<generate-a-secret-key>

# Live collaboration signing key
LIVE_SERVER_SECRET_KEY=<generate-a-secret-key>

# ==============================================
# WEB URLs
# ==============================================
# Must match the public URL used by Cloudflare.
# CORS_ALLOWED_ORIGINS feeds into Django's CSRF_TRUSTED_ORIGINS.
WEB_URL=https://plane.example.com
CORS_ALLOWED_ORIGINS=https://plane.example.com

# ==============================================
# PERFORMANCE
# ==============================================
GUNICORN_WORKERS=2
API_KEY_RATE_LIMIT=60/minute
